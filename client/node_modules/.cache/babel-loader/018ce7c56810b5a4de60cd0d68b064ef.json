{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\src\\\\Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport Nav from './Nav';\nimport { authenticate } from './helpers';\n\nconst Login = props => {\n  const _useState = useState({\n    name: '',\n    password: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const name = state.name,\n        password = state.password;\n\n  const handleChange = name => event => {\n    setState(_objectSpread({}, state, {\n      [name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    axios.post(`${process.env.REACT_APP_API}/login`, {\n      name,\n      password\n    }).then(response => {\n      console.log(response); //response will contain token and name \n\n      authenticate(response, () => props.history.push('/create'));\n    }).catch(error => {\n      console.log(error.response);\n      alert(error.response.data.error);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container pb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"LOGIN\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    onChange: handleChange('name'),\n    value: name,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Your Name\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    onChange: handleChange('password'),\n    value: password,\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Your Password\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Login\"))));\n};\n\nexport default withRouter(Login);","map":{"version":3,"sources":["C:/Users/saint/Desktop/beewell/client/src/Login.js"],"names":["React","useState","useEffect","axios","Link","withRouter","Nav","authenticate","Login","props","name","password","state","setState","handleChange","event","target","value","handleSubmit","preventDefault","post","process","env","REACT_APP_API","then","response","console","log","history","push","catch","error","alert","data"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport Nav from './Nav';\r\nimport { authenticate } from './helpers';\r\n\r\nconst Login = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        name: '',\r\n        password: ''\r\n    })\r\n    const {name, password} = state\r\n\r\n    const handleChange = name => event => {\r\n        \r\n        setState({...state, [name]: event.target.value});\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        axios\r\n        .post(`${process.env.REACT_APP_API}/login`, {name, password})\r\n        .then(response => {\r\n            console.log(response);\r\n            //response will contain token and name \r\n            authenticate(response, () => props.history.push('/create'))\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            alert(error.response.data.error);\r\n        });\r\n    };\r\n    return <div className=\"container pb-5\">\r\n        <Nav />\r\n        <br/>\r\n        <h1>LOGIN</h1>\r\n        <br/>\r\n        <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Name</label>\r\n            <input onChange={handleChange('name')} value={name} type=\"text\" className=\"form-control\" placeholder=\"Your Name\" required/>\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Password</label>\r\n            <input onChange={handleChange('password')} value={password} type=\"password\" className=\"form-control\" placeholder=\"Your Password\" required/>\r\n        </div>\r\n        <div>\r\n            <button className=\"btn btn-primary\">Login</button>\r\n        </div>\r\n    </form>\r\n    </div>;\r\n};\r\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}