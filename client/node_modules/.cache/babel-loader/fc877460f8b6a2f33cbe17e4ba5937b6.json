{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\src\\\\UpdatePost.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Nav from './Nav';\nimport ReactQuill from 'react-quill';\nimport { getToken } from './helpers';\nimport 'react-quill/dist/quill.bubble.css';\n\nconst UpdatePost = props => {\n  const _useState = useState({\n    title: '',\n    slug: '',\n    user: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const title = state.title,\n        slug = state.slug,\n        user = state.user;\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        content = _useState4[0],\n        setContent = _useState4[1]; //rich text editor handle change\n\n\n  const handleContent = event => {\n    setContent(event);\n  };\n\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`).then(response => {\n      const _response$data = response.data,\n            title = _response$data.title,\n            content = _response$data.content,\n            slug = _response$data.slug,\n            user = _response$data.user;\n      setState(_objectSpread({}, state, {\n        title,\n        slug,\n        user\n      }));\n      setContent(content);\n    }).catch(error => alert('Error loading single post'));\n  }, []); // onchange event handler\n\n  const handleChange = name => event => {\n    setState(_objectSpread({}, state, {\n      [name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    axios.put(`${process.env.REACT_APP_API}/post/${slug}`, {\n      title,\n      content,\n      user\n    }, {\n      headers: {\n        authorization: `Bearer ${getToken()}`\n      }\n    }).then(response => {\n      console.log(response);\n      const _response$data2 = response.data,\n            title = _response$data2.title,\n            content = _response$data2.content,\n            slug = _response$data2.slug,\n            user = _response$data2.user;\n      setState(_objectSpread({}, state, {\n        title,\n        content,\n        slug,\n        user\n      }));\n      alert(`Post titled ${title} is updated`);\n    }).catch(error => {\n      console.log(error.response);\n      alert(error.response.data.error);\n    });\n  };\n\n  const showUpdateForm = () => React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Title\"), React.createElement(\"input\", {\n    onChange: handleChange('title'),\n    value: title,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Post title\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Content\"), React.createElement(ReactQuill, {\n    onChange: handleContent,\n    value: content,\n    theme: \"bubble\",\n    className: \"pb-5 mb-3\",\n    placeholder: \"Create a buzz...\",\n    style: {\n      border: '1px solid #666'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"User\"), React.createElement(\"input\", {\n    onChange: handleChange('user'),\n    value: user,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Your name\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Update\")));\n\n  return React.createElement(\"div\", {\n    className: \"container pb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"UPDATE POST\"), showUpdateForm());\n};\n\nexport default UpdatePost;","map":{"version":3,"sources":["C:/Users/saint/Desktop/beewell/client/src/UpdatePost.js"],"names":["React","useState","useEffect","axios","Nav","ReactQuill","getToken","UpdatePost","props","title","slug","user","state","setState","content","setContent","handleContent","event","get","process","env","REACT_APP_API","match","params","then","response","data","catch","error","alert","handleChange","name","target","value","handleSubmit","preventDefault","put","headers","authorization","console","log","showUpdateForm","border"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Nav from './Nav';\r\nimport ReactQuill from 'react-quill';\r\nimport { getToken } from './helpers';\r\nimport 'react-quill/dist/quill.bubble.css';\r\n\r\n\r\nconst UpdatePost = (props) => {\r\n    const [state, setState] = useState({\r\n        title: '',\r\n        slug: '',\r\n        user: ''\r\n    })\r\n\r\n    const {title, slug, user} = state \r\n\r\n    const [content, setContent] = useState('')\r\n\r\n    //rich text editor handle change\r\n    const handleContent = (event) => {\r\n\r\n        setContent(event);\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`)\r\n        .then(response => {\r\n            const {title, content, slug, user} = response.data\r\n            setState({...state, title, slug, user})\r\n            setContent(content);\r\n        })\r\n        .catch(error => alert('Error loading single post'));\r\n    }, []);\r\n\r\n    // onchange event handler\r\n    const handleChange = name => event => {\r\n        \r\n        setState({...state, [name]: event.target.value});\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        axios\r\n        .put(`${process.env.REACT_APP_API}/post/${slug}`, { title, content, user }, {\r\n            headers: {\r\n                authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            console.log(response);\r\n            const {title, content, slug, user} = response.data\r\n            setState({...state, title, content, slug, user});\r\n\r\n            alert(`Post titled ${title} is updated`);\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            alert(error.response.data.error);\r\n        });\r\n        \r\n    };\r\n\r\n    const showUpdateForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Title</label>\r\n            <input onChange={handleChange('title')} value={title} type=\"text\" className=\"form-control\" placeholder=\"Post title\" required/>\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Content</label>\r\n            <ReactQuill\r\n            onChange={handleContent} value={content} theme=\"bubble\" className=\"pb-5 mb-3\" placeholder=\"Create a buzz...\" style={{border: '1px solid #666'}}\r\n            />\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">User</label>\r\n            <input onChange={handleChange('user')} value={user} type=\"text\" className=\"form-control\" placeholder=\"Your name\" required/>\r\n        </div>\r\n        <div>\r\n            <button className=\"btn btn-primary\">Update</button>\r\n        </div>\r\n    </form>\r\n    )\r\n\r\n    return (\r\n        <div className=\"container pb-5\">\r\n            <Nav />\r\n            <br />\r\n            <h1>UPDATE POST</h1>\r\n            {showUpdateForm()}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default UpdatePost;"]},"metadata":{},"sourceType":"module"}