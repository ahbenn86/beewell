{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\saint\\\\Desktop\\\\beewell\\\\client\\\\src\\\\UpdatePost.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Nav from './Nav';\n\nconst UpdatePost = props => {\n  const _useState = useState({\n    title: '',\n    content: '',\n    slug: '',\n    user: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const title = state.title,\n        content = state.content,\n        slug = state.slug,\n        user = state.user;\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`).then(response => {\n      const _response$data = response.data,\n            title = _response$data.title,\n            content = _response$data.content,\n            slug = _response$data.slug,\n            user = _response$data.user;\n      setState(_objectSpread({}, state, {\n        title,\n        content,\n        slug,\n        user\n      }));\n    }).catch(error => alert('Error loading single post'));\n  }, []); // onchange event handler\n\n  const handleChange = name => event => {\n    setState(_objectSpread({}, state, {\n      [name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    axios.put(`${process.env.REACT_APP_API}/post/${slug}`, {\n      title,\n      content,\n      user\n    }).then(response => {\n      console.log(response);\n      const _response$data2 = response.data,\n            title = _response$data2.title,\n            content = _response$data2.content,\n            slug = _response$data2.slug,\n            user = _response$data2.user;\n      setState(_objectSpread({}, state, {\n        title,\n        content,\n        slug,\n        user\n      }));\n      alert(`Post titled ${title} is created`);\n    }).catch(error => {\n      console.log(error.response);\n      alert(error.response.data.error);\n    });\n  };\n\n  const showUpdateForm = () => React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Title\"), React.createElement(\"input\", {\n    onChange: handleChange('title'),\n    value: title,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Post title\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Content\"), React.createElement(\"textarea\", {\n    onChange: handleChange('content'),\n    value: content,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Create a buzz...\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"User\"), React.createElement(\"input\", {\n    onChange: handleChange('user'),\n    value: user,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Your name\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Update\")));\n\n  return React.createElement(\"div\", {\n    className: \"container pb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"UPDATE POST\"), showUpdateForm());\n};\n\nexport default UpdatePost;","map":{"version":3,"sources":["C:/Users/saint/Desktop/beewell/client/src/UpdatePost.js"],"names":["React","useState","useEffect","axios","Nav","UpdatePost","props","title","content","slug","user","state","setState","get","process","env","REACT_APP_API","match","params","then","response","data","catch","error","alert","handleChange","name","event","target","value","handleSubmit","preventDefault","put","console","log","showUpdateForm"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Nav from './Nav';\r\n\r\nconst UpdatePost = (props) => {\r\n    const [state, setState] = useState({\r\n        title: '',\r\n        content: '',\r\n        slug: '',\r\n        user: ''\r\n    })\r\n\r\n    const {title, content, slug, user} = state \r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`)\r\n        .then(response => {\r\n            const {title, content, slug, user} = response.data\r\n            setState({...state, title, content, slug, user})\r\n        })\r\n        .catch(error => alert('Error loading single post'));\r\n    }, []);\r\n\r\n    // onchange event handler\r\n    const handleChange = name => event => {\r\n        \r\n        setState({...state, [name]: event.target.value});\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        axios\r\n        .put(`${process.env.REACT_APP_API}/post/${slug}`, { title, content, user })\r\n        .then(response => {\r\n            console.log(response);\r\n            const {title, content, slug, user} = response.data\r\n            setState({...state, title, content, slug, user});\r\n\r\n            alert(`Post titled ${title} is created`);\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            alert(error.response.data.error);\r\n        });\r\n        \r\n    };\r\n\r\n    const showUpdateForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Title</label>\r\n            <input onChange={handleChange('title')} value={title} type=\"text\" className=\"form-control\" placeholder=\"Post title\" required/>\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Content</label>\r\n            <textarea onChange={handleChange('content')} value={content} type=\"text\" className=\"form-control\" placeholder=\"Create a buzz...\" required/>\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">User</label>\r\n            <input onChange={handleChange('user')} value={user} type=\"text\" className=\"form-control\" placeholder=\"Your name\" required/>\r\n        </div>\r\n        <div>\r\n            <button className=\"btn btn-primary\">Update</button>\r\n        </div>\r\n    </form>\r\n    )\r\n\r\n    return (\r\n        <div className=\"container pb-5\">\r\n            <Nav />\r\n            <br />\r\n            <h1>UPDATE POST</h1>\r\n            {showUpdateForm()}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default UpdatePost;"]},"metadata":{},"sourceType":"module"}